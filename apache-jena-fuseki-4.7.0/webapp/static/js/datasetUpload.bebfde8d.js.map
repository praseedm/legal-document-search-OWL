{"version":3,"file":"static/js/datasetUpload.bebfde8d.js","mappings":"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","sources":["webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue","webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue?1274","webpack://apache-jena-fuseki/./node_modules/vue-upload-component/dist/vue-upload-component.js"],"sourcesContent":["<!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the \"License\"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n-->\n\n<template>\n  <div class=\"container-fluid\">\n    <div class=\"row mt-4\">\n      <div class=\"col-12\">\n        <h2>/{{ datasetName }}</h2>\n        <div class=\"card\">\n          <nav class=\"card-header\">\n            <Menu :dataset-name=\"datasetName\" />\n          </nav>\n          <div class=\"card-body\" v-if=\"services !== null && (!services['gsp-rw'] || services['gsp-rw'].length === 0)\">\n            <div class=\"alert alert-warning\">\n              No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.\n            </div>\n          </div>\n          <div class=\"card-body\" v-else>\n            <div v-show=\"$refs.upload && $refs.upload.dropActive\" class=\"drop-active\">\n              <h3>Drop files to upload</h3>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-sm-12\">\n                <h3>Upload files</h3>\n                <p>\n                  Load data into the default graph of the currently selected dataset, or the given named graph.\n                  You may upload any RDF format, such as Turtle, RDF/XML or TRiG.\n                </p>\n                <form ref=\"upload-form\" novalidate>\n                  <div\n                    id=\"dataset-graph-name-group\"\n                    role=\"group\"\n                    class=\"form-row form-group\"\n                  >\n                    <label\n                      for=\"dataset-graph-name\"\n                      class=\"col-sm-4 col-md-4 col-lg-2 col-12 col-form-label col-form-label-sm\"\n                    >Dataset graph name</label>\n                    <div class=\"col input-group has-validation\">\n                      <input\n                        v-model=\"datasetGraphName\"\n                        :class=\"graphNameClasses\"\n                        id=\"dataset-graph-name\"\n                        ref=\"dataset-graph-name\"\n                        type=\"text\"\n                        placeholder=\"Leave blank for default graph\"\n                      />\n                      <div class=\"invalid-feedback\">\n                        Invalid graph name. Please remove any spaces.\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    id=\"dataset-files\"\n                    role=\"group\"\n                    class=\"form-row form-group\"\n                  >\n                    <label\n                      class=\"col-sm-4 col-md-4 col-lg-2 col-12 col-form-label col-form-label-sm\"\n                    >Files to upload</label>\n                    <div class=\"col has-validation\">\n                      <!-- eslint-disable vue/v-on-event-hyphenation -->\n                      <file-upload\n                        ref=\"upload\"\n                        :value=\"upload.files\"\n                        @update:modelValue=\"upload.files = $event\"\n                        :post-action=\"postActionUrl\"\n                        :extensions=\"upload.extensions\"\n                        :accept=\"upload.accept\"\n                        :multiple=\"upload.multiple\"\n                        :directory=\"upload.directory\"\n                        :size=\"upload.size || 0\"\n                        :thread=\"upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)\"\n                        :headers=\"upload.headers\"\n                        :data=\"upload.data\"\n                        :drop=\"upload.drop\"\n                        :drop-directory=\"upload.dropDirectory\"\n                        :add-index=\"upload.addIndex\"\n                        :class=\"fileUploadClasses\"\n                        :custom-action=\"handleUploadWithErrorHandling\"\n                      >\n                        <FontAwesomeIcon icon=\"plus\" />\n                        <span class=\"ms-2\">select files</span>\n                      </file-upload>\n                      <button\n                        v-if=\"!$refs.upload || !$refs.upload.active\"\n                        @click.prevent=\"uploadAll()\"\n                        type=\"button\"\n                        class=\"btn btn-primary ms-2 d-inline\"\n                      >\n                        <FontAwesomeIcon icon=\"upload\" />\n                        <span class=\"ms-2\">upload all</span>\n                      </button>\n                      <button\n                        v-else\n                        @click.prevent=\"$refs.upload.active = false\"\n                        type=\"button\"\n                        class=\"btn btn-primary ms-2 d-inline\"\n                      >\n                        <FontAwesomeIcon icon=\"times-circle\" />\n                        <span class=\"ms-2\">stop upload</span>\n                      </button>\n                      <div class=\"invalid-feedback\">\n                        Invalid upload files. Please select at least one file to upload.\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <jena-table\n                  :fields=\"datasetTableFields\"\n                  :items=\"datasetTableItems\"\n                  empty-text=\"No files selected\"\n                  bordered\n                  fixed\n                  hover\n                >\n                  <template #cell(size)=\"data\">\n                    {{ readableFileSize(data.item.size) }}\n                  </template>\n                  <template #cell(speed)=\"data\">\n                    {{ readableFileSize(data.item.speed) }}/s\n                  </template>\n                  <template #cell(status)=\"data\">\n                    <div class=\"progress\">\n                      <div\n                        :class=\"`progress-bar bg-${getFileStatus(data.item)}`\"\n                        :style=\"`width: ${data.item.progress}%`\"\n                        :aria-valuenow=\"`${data.item.progress}`\"\n                        aria-valuemin=\"0\"\n                        aria-valuemax=\"100\"\n                        role=\"progressbar\"\n                      >\n                        {{ data.item.progress }}\n                      </div>\n                    </div>\n                    <span class=\"small\">Triples uploaded:&nbsp;</span>\n                    <span v-if=\"data.item.response.tripleCount\" class=\"small\">\n                      {{ data.item.response.tripleCount }}\n                    </span>\n                    <span v-else class=\"small\">0</span>\n                  </template>\n                  <template #cell(actions)=\"data\">\n                    <button\n                      @click.prevent=\"data.item.success || data.item.error === 'compressing' ? false : $refs.upload.update(data.item, {active: true})\"\n                      type=\"button\"\n                      class=\"btn btn-outline-primary me-0 mb-2 d-block\"\n                    >\n                      <FontAwesomeIcon icon=\"upload\" />\n                      <span class=\"ms-2\">upload now</span>\n                    </button>\n                    <button\n                      @click.prevent=\"remove(data.item)\"\n                      type=\"button\"\n                      class=\"btn btn-outline-primary me-0 mb-md-0 d-block d-md-inline-block\"\n                    >\n                      <FontAwesomeIcon icon=\"minus-circle\" />\n                      <span class=\"ms-2\">remove</span>\n                    </button>\n                  </template>\n                </jena-table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Menu from '@/components/dataset/Menu'\nimport FileUpload from 'vue-upload-component'\nimport JenaTable from '@/components/dataset/JenaTable'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport currentDatasetMixin from '@/mixins/current-dataset'\nimport currentDatasetMixinNavigationGuards from '@/mixins/current-dataset-navigation-guards'\nimport { displayError } from '@/utils'\n\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\n\nexport default {\n  name: 'DatasetUpload',\n\n  components: {\n    Menu,\n    FontAwesomeIcon,\n    FileUpload,\n    JenaTable\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  ...currentDatasetMixinNavigationGuards,\n\n  data () {\n    return {\n      datasetGraphName: null,\n      datasetFiles: null,\n      graphNameClasses: [\n        'form-control'\n      ],\n      fileUploadClasses: [\n        'btn',\n        'btn-success'\n      ],\n      upload: {\n        files: [],\n        accept: '', // e.g. 'ttl,xml,rdf,...'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: null,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: 'file',\n        headers: { // e.g. CSRF headers\n        },\n        data: {},\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false\n        // addData: {\n        //   show: false,\n        //   name: '',\n        //   type: '',\n        //   content: ''\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: ''\n        // }\n      },\n      datasetTableFields: [\n        {\n          key: 'name',\n          label: 'name',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'size',\n          label: 'size',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'speed',\n          label: 'speed'\n        },\n        {\n          key: 'status',\n          label: 'status'\n        },\n        {\n          key: 'actions',\n          label: 'actions'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    datasetTableItems () {\n      if (!this.upload.files) {\n        return []\n      }\n      return this.upload.files\n        .map(file => {\n          return Object.assign(file, {\n            status: this.getFileStatus(file)\n          })\n        })\n    },\n    postActionUrl () {\n      if (this.services === null || !this.services['gsp-rw'] || this.services['gsp-rw'].length === 0) {\n        return ''\n      }\n      const params = (this.datasetGraphName && this.datasetGraphName !== '') ? `?graph=${this.datasetGraphName}` : ''\n      const dataEndpoint = this.services['gsp-rw']['srv.endpoints'].find(endpoint => endpoint !== '') || ''\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${dataEndpoint}${params}`)\n    }\n  },\n\n  watch: {\n    datasetGraphName () {\n      this.validateGraphName()\n    },\n    upload: {\n      handler () {\n        this.validateFiles()\n      },\n      deep: true,\n      immediate: false\n    }\n  },\n\n  methods: {\n    getFileStatus (file) {\n      if (file.error) {\n        return 'danger'\n      }\n      if (file.success) {\n        return 'success'\n      }\n      if (file.active) {\n        return 'warning'\n      }\n      return ''\n    },\n    remove (file) {\n      this.$refs.upload.remove(file)\n    },\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function (size) {\n      const k = 1024\n      const m = k * k\n\n      if (size >= m) {\n        return `${(size / m).toFixed(2).replace(/\\.?0*$/, '')}mb`\n      } else if (size >= k) {\n        return `${(size / k).toFixed(2).replace(/\\.?0*$/, '')}kb`\n      } else {\n        return `${size} bytes`\n      }\n    },\n    uploadAll () {\n      if (this.validateForm()) {\n        this.$refs.upload.active = true\n      }\n    },\n    validateForm () {\n      return this.validateGraphName() && this.validateFiles()\n    },\n    validateGraphName () {\n      // No spaces allowed in graph names.\n      const pattern = /^[^\\s]+$/\n      const graphName = this.$refs['dataset-graph-name'].value\n      if (graphName === '' || pattern.test(graphName)) {\n        this.graphNameClasses = ['form-control is-valid']\n        return true\n      }\n      this.graphNameClasses = ['form-control is-invalid']\n      return false\n    },\n    validateFiles () {\n      if (this.upload.files !== null && this.upload.files.length > 0) {\n        this.fileUploadClasses = [\n          'btn',\n          'btn-success',\n          'is-valid'\n        ]\n        return true\n      }\n      this.fileUploadClasses = [\n        'btn',\n        'btn-success',\n        'is-invalid'\n      ]\n      return false\n    },\n    async handleUploadWithErrorHandling (file, component) {\n      try {\n        return component\n          .uploadHtml5(file)\n          .catch(error => displayError(this, error))\n      } catch (error) {\n        displayError(this, error)\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./Upload.vue?vue&type=template&id=4efad676\"\nimport script from \"./Upload.vue?vue&type=script&lang=js\"\nexport * from \"./Upload.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*!\n Name: vue-upload-component \nComponent URI: https://github.com/lian-yue/vue-upload-component#readme \nVersion: 3.1.5 \nAuthor: LianYue \nLicense: Apache-2.0 \nDescription: Vue.js file upload component, Multi-file upload, Upload directory, Drag upload, Drag the directory, Upload multiple files at the same time, html4 (IE 9), `PUT` method, Customize the filter \n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('vue')) :\n  typeof define === 'function' && define.amd ? define(['vue'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.VueUploadComponent = factory(global.Vue));\n})(this, (function (vue) { 'use strict';\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? _ownKeys(Object(source), !0).forEach(function (key) { _defineProperty2(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : _ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n  function _defineProperty2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n  /**\n   * Creates a XHR request\n   *\n   * @param {Object} options\n   */\n\n\n  var createRequest = function createRequest(options) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(options.method || 'GET', options.url);\n    xhr.responseType = 'json';\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    return xhr;\n  };\n  /**\n   * Sends a XHR request with certain body\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} body\n   */\n\n\n  var sendRequest = function sendRequest(xhr, body) {\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n\n      xhr.send(JSON.stringify(body));\n    });\n  };\n  /**\n   * Sends a XHR request with certain form data\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} data\n   */\n\n\n  var sendFormRequest = function sendFormRequest(xhr, data) {\n    var body = new FormData();\n\n    for (var name in data) {\n      body.append(name, data[name]);\n    }\n\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n\n      xhr.send(body);\n    });\n  };\n  /**\n   * Creates and sends XHR request\n   *\n   * @param {Object} options\n   *\n   * @returns Promise\n   */\n\n\n  function request(options) {\n    var xhr = createRequest(options);\n    return sendRequest(xhr, options.body);\n  }\n\n  var ChunkUploadHandler = /*#__PURE__*/function () {\n    /**\n     * Constructor\n     *\n     * @param {File} file\n     * @param {Object} options\n     */\n    function ChunkUploadHandler(file, options) {\n      _classCallCheck(this, ChunkUploadHandler);\n\n      this.file = file;\n      this.options = options;\n      this.chunks = [];\n      this.sessionId = null;\n      this.chunkSize = null;\n      this.speedInterval = null;\n    }\n    /**\n     * Gets the max retries from options\n     */\n\n\n    _createClass(ChunkUploadHandler, [{\n      key: \"maxRetries\",\n      get: function get() {\n        return parseInt(this.options.maxRetries, 10);\n      }\n      /**\n       * Gets the max number of active chunks being uploaded at once from options\n       */\n\n    }, {\n      key: \"maxActiveChunks\",\n      get: function get() {\n        return parseInt(this.options.maxActive, 10);\n      }\n      /**\n       * Gets the file type\n       */\n\n    }, {\n      key: \"fileType\",\n      get: function get() {\n        return this.file.type;\n      }\n      /**\n       * Gets the file size\n       */\n\n    }, {\n      key: \"fileSize\",\n      get: function get() {\n        return this.file.size;\n      }\n      /**\n       * Gets the file name\n       */\n\n    }, {\n      key: \"fileName\",\n      get: function get() {\n        return this.file.name;\n      }\n      /**\n       * Gets action (url) to upload the file\n       */\n\n    }, {\n      key: \"action\",\n      get: function get() {\n        return this.options.action || null;\n      }\n      /**\n       * Gets the body to be merged when sending the request in start phase\n       */\n\n    }, {\n      key: \"startBody\",\n      get: function get() {\n        return this.options.startBody || {};\n      }\n      /**\n       * Gets the body to be merged when sending the request in upload phase\n       */\n\n    }, {\n      key: \"uploadBody\",\n      get: function get() {\n        return this.options.uploadBody || {};\n      }\n      /**\n       * Gets the body to be merged when sending the request in finish phase\n       */\n\n    }, {\n      key: \"finishBody\",\n      get: function get() {\n        return this.options.finishBody || {};\n      }\n      /**\n       * Gets the headers of the requests from options\n       */\n\n    }, {\n      key: \"headers\",\n      get: function get() {\n        return this.options.headers || {};\n      }\n      /**\n       * Whether it's ready to upload files or not\n       */\n\n    }, {\n      key: \"readyToUpload\",\n      get: function get() {\n        return !!this.chunks;\n      }\n      /**\n       * Gets the progress of the chunk upload\n       * - Gets all the completed chunks\n       * - Gets the progress of all the chunks that are being uploaded\n       */\n\n    }, {\n      key: \"progress\",\n      get: function get() {\n        var _this = this;\n\n        var completedProgress = this.chunksUploaded.length / this.chunks.length * 100;\n        var uploadingProgress = this.chunksUploading.reduce(function (progress, chunk) {\n          return progress + (chunk.progress | 0) / _this.chunks.length;\n        }, 0);\n        return Math.min(completedProgress + uploadingProgress, 100);\n      }\n      /**\n       * Gets all the chunks that are pending to be uploaded\n       */\n\n    }, {\n      key: \"chunksToUpload\",\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !chunk.active && !chunk.uploaded;\n        });\n      }\n      /**\n       * Whether there are chunks to upload or not\n       */\n\n    }, {\n      key: \"hasChunksToUpload\",\n      get: function get() {\n        return this.chunksToUpload.length > 0;\n      }\n      /**\n       * Gets all the chunks that are uploading\n       */\n\n    }, {\n      key: \"chunksUploading\",\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.xhr && !!chunk.active;\n        });\n      }\n      /**\n       * Gets all the chunks that have finished uploading\n       */\n\n    }, {\n      key: \"chunksUploaded\",\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.uploaded;\n        });\n      }\n      /**\n       * Creates all the chunks in the initial state\n       */\n\n    }, {\n      key: \"createChunks\",\n      value: function createChunks() {\n        this.chunks = [];\n        var start = 0;\n        var end = this.chunkSize;\n\n        while (start < this.fileSize) {\n          this.chunks.push({\n            blob: this.file.file.slice(start, end),\n            startOffset: start,\n            active: false,\n            retries: this.maxRetries\n          });\n          start = end;\n          end = start + this.chunkSize;\n        }\n      }\n      /**\n       * Updates the progress of the file with the handler's progress\n       */\n\n    }, {\n      key: \"updateFileProgress\",\n      value: function updateFileProgress() {\n        this.file.progress = this.progress;\n      }\n      /**\n       * Paues the upload process\n       * - Stops all active requests\n       * - Sets the file not active\n       */\n\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        this.file.active = false;\n        this.stopChunks();\n      }\n      /**\n       * Stops all the current chunks\n       */\n\n    }, {\n      key: \"stopChunks\",\n      value: function stopChunks() {\n        this.chunksUploading.forEach(function (chunk) {\n          chunk.xhr.abort();\n          chunk.active = false;\n        });\n        this.stopSpeedCalc();\n      }\n      /**\n       * Resumes the file upload\n       * - Sets the file active\n       * - Starts the following chunks\n       */\n\n    }, {\n      key: \"resume\",\n      value: function resume() {\n        this.file.active = true;\n        this.startChunking();\n      }\n      /**\n       * Starts the file upload\n       *\n       * @returns Promise\n       * - resolve  The file was uploaded\n       * - reject   The file upload failed\n       */\n\n    }, {\n      key: \"upload\",\n      value: function upload() {\n        var _this2 = this;\n\n        this.promise = new Promise(function (resolve, reject) {\n          _this2.resolve = resolve;\n          _this2.reject = reject;\n        });\n        this.start();\n        return this.promise;\n      }\n      /**\n       * Start phase\n       * Sends a request to the backend to initialise the chunks\n       */\n\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this3 = this;\n\n        request({\n          method: 'POST',\n          headers: _objectSpread2(_objectSpread2({}, this.headers), {}, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.startBody, {\n            phase: 'start',\n            mime_type: this.fileType,\n            size: this.fileSize,\n            name: this.fileName\n          })\n        }).then(function (res) {\n          if (res.status !== 'success') {\n            _this3.file.response = res;\n            return _this3.reject('server');\n          }\n\n          _this3.sessionId = res.data.session_id;\n          _this3.chunkSize = res.data.end_offset;\n\n          _this3.createChunks();\n\n          _this3.startChunking();\n        }).catch(function (res) {\n          _this3.file.response = res;\n\n          _this3.reject('server');\n        });\n      }\n      /**\n       * Starts to upload chunks\n       */\n\n    }, {\n      key: \"startChunking\",\n      value: function startChunking() {\n        for (var i = 0; i < this.maxActiveChunks; i++) {\n          this.uploadNextChunk();\n        }\n\n        this.startSpeedCalc();\n      }\n      /**\n       * Uploads the next chunk\n       * - Won't do anything if the process is paused\n       * - Will start finish phase if there are no more chunks to upload\n       */\n\n    }, {\n      key: \"uploadNextChunk\",\n      value: function uploadNextChunk() {\n        if (this.file.active) {\n          if (this.hasChunksToUpload) {\n            return this.uploadChunk(this.chunksToUpload[0]);\n          }\n\n          if (this.chunksUploading.length === 0) {\n            return this.finish();\n          }\n        }\n      }\n      /**\n       * Uploads a chunk\n       * - Sends the chunk to the backend\n       * - Sets the chunk as uploaded if everything went well\n       * - Decreases the number of retries if anything went wrong\n       * - Fails if there are no more retries\n       *\n       * @param {Object} chunk\n       */\n\n    }, {\n      key: \"uploadChunk\",\n      value: function uploadChunk(chunk) {\n        var _this4 = this;\n\n        chunk.progress = 0;\n        chunk.active = true;\n        this.updateFileProgress();\n        chunk.xhr = createRequest({\n          method: 'POST',\n          headers: this.headers,\n          url: this.action\n        });\n        chunk.xhr.upload.addEventListener('progress', function (evt) {\n          if (evt.lengthComputable) {\n            chunk.progress = Math.round(evt.loaded / evt.total * 100);\n          }\n        }, false);\n        sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\n          phase: 'upload',\n          session_id: this.sessionId,\n          start_offset: chunk.startOffset,\n          chunk: chunk.blob\n        })).then(function (res) {\n          chunk.active = false;\n\n          if (res.status === 'success') {\n            chunk.uploaded = true;\n          } else {\n            if (chunk.retries-- <= 0) {\n              _this4.stopChunks();\n\n              return _this4.reject('upload');\n            }\n          }\n\n          _this4.uploadNextChunk();\n        }).catch(function () {\n          chunk.active = false;\n\n          if (chunk.retries-- <= 0) {\n            _this4.stopChunks();\n\n            return _this4.reject('upload');\n          }\n\n          _this4.uploadNextChunk();\n        });\n      }\n      /**\n       * Finish phase\n       * Sends a request to the backend to finish the process\n       */\n\n    }, {\n      key: \"finish\",\n      value: function finish() {\n        var _this5 = this;\n\n        this.updateFileProgress();\n        this.stopSpeedCalc();\n        request({\n          method: 'POST',\n          headers: _objectSpread2(_objectSpread2({}, this.headers), {}, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.finishBody, {\n            phase: 'finish',\n            session_id: this.sessionId\n          })\n        }).then(function (res) {\n          _this5.file.response = res;\n\n          if (res.status !== 'success') {\n            return _this5.reject('server');\n          }\n\n          _this5.resolve(res);\n        }).catch(function (res) {\n          _this5.file.response = res;\n\n          _this5.reject('server');\n        });\n      }\n      /**\n       * Sets an interval to calculate and\n       * set upload speed every 3 seconds\n       */\n\n    }, {\n      key: \"startSpeedCalc\",\n      value: function startSpeedCalc() {\n        var _this6 = this;\n\n        this.file.speed = 0;\n        var lastUploadedBytes = 0;\n\n        if (!this.speedInterval) {\n          this.speedInterval = window.setInterval(function () {\n            var uploadedBytes = _this6.progress / 100 * _this6.fileSize;\n            _this6.file.speed = uploadedBytes - lastUploadedBytes;\n            lastUploadedBytes = uploadedBytes;\n          }, 1000);\n        }\n      }\n      /**\n       * Removes the upload speed interval\n       */\n\n    }, {\n      key: \"stopSpeedCalc\",\n      value: function stopSpeedCalc() {\n        this.speedInterval && window.clearInterval(this.speedInterval);\n        this.speedInterval = null;\n        this.file.speed = 0;\n      }\n    }]);\n\n    return ChunkUploadHandler;\n  }();\n\n  var CHUNK_DEFAULT_OPTIONS = {\n    headers: {},\n    action: '',\n    minSize: 1048576,\n    maxActive: 3,\n    maxRetries: 5,\n    handler: ChunkUploadHandler\n  };\n  var script = vue.defineComponent({\n    props: {\n      inputId: {\n        type: String\n      },\n      name: {\n        type: String,\n        default: 'file'\n      },\n      accept: {\n        type: String\n      },\n      capture: {},\n      disabled: {\n        default: false\n      },\n      multiple: {\n        type: Boolean,\n        default: false\n      },\n      maximum: {\n        type: Number\n      },\n      addIndex: {\n        type: [Boolean, Number]\n      },\n      directory: {\n        type: Boolean\n      },\n      createDirectory: {\n        type: Boolean,\n        default: false\n      },\n      postAction: {\n        type: String\n      },\n      putAction: {\n        type: String\n      },\n      customAction: {\n        type: Function\n      },\n      headers: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      data: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      timeout: {\n        type: Number,\n        default: 0\n      },\n      drop: {\n        default: false\n      },\n      dropDirectory: {\n        type: Boolean,\n        default: true\n      },\n      size: {\n        type: Number,\n        default: 0\n      },\n      extensions: {\n        type: [RegExp, String, Array],\n        default: function _default() {\n          return [];\n        }\n      },\n      modelValue: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      },\n      thread: {\n        type: Number,\n        default: 1\n      },\n      // Chunk upload enabled\n      chunkEnabled: {\n        type: Boolean,\n        default: false\n      },\n      // Chunk upload properties\n      chunk: {\n        type: Object,\n        default: function _default() {\n          return CHUNK_DEFAULT_OPTIONS;\n        }\n      }\n    },\n    emits: ['update:modelValue', 'input-filter', 'input-file'],\n    data: function data() {\n      return {\n        files: this.modelValue,\n        features: {\n          html5: true,\n          directory: false,\n          drop: false\n        },\n        active: false,\n        dropActive: false,\n        uploading: 0,\n        destroy: false,\n        maps: {},\n        dropElement: null,\n        dropTimeout: null,\n        reload: false\n      };\n    },\n\n    /**\r\n     * mounted\r\n     * @return {[type]} [description]\r\n     */\n    mounted: function mounted() {\n      var _this7 = this;\n\n      var input = document.createElement('input');\n      input.type = 'file';\n      input.multiple = true; // html5 特征\n\n      if (window.FormData && input.files) {\n        // 上传目录特征\n        // @ts-ignore\n        if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\n          this.features.directory = true;\n        } // 拖拽特征\n\n\n        if (this.features.html5 && typeof input.ondrop !== 'undefined') {\n          this.features.drop = true;\n        }\n      } else {\n        this.features.html5 = false;\n      } // files 定位缓存\n\n\n      this.maps = {};\n\n      if (this.files) {\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n      } // @ts-ignore\n\n\n      this.$nextTick(function () {\n        // 更新下父级\n        if (_this7.$parent) {\n          _this7.$parent.$forceUpdate(); // 拖拽渲染\n\n\n          _this7.$parent.$nextTick(function () {\n            _this7.watchDrop(_this7.drop);\n          });\n        } else {\n          // 拖拽渲染\n          _this7.watchDrop(_this7.drop);\n        }\n      });\n    },\n\n    /**\r\n     * beforeUnmount\r\n     * @return {[type]} [description]\r\n     */\n    beforeUnmount: function beforeUnmount() {\n      // 已销毁\n      this.destroy = true; // 设置成不激活\n\n      this.active = false; // 销毁拖拽事件\n\n      this.watchDrop(false); // 销毁不激活\n\n      this.watchActive(false);\n    },\n    computed: {\n      /**\r\n       * uploading 正在上传的线程\r\n       * @return {[type]} [description]\r\n       */\n\n      /**\r\n       * uploaded 文件列表是否全部已上传\r\n       * @return {[type]} [description]\r\n       */\n      uploaded: function uploaded() {\n        var file;\n\n        for (var i = 0; i < this.files.length; i++) {\n          file = this.files[i];\n\n          if (file.fileObject && !file.error && !file.success) {\n            return false;\n          }\n        }\n\n        return true;\n      },\n      chunkOptions: function chunkOptions() {\n        return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk);\n      },\n      className: function className() {\n        return ['file-uploads', this.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4', this.features.directory && this.directory ? 'file-uploads-directory' : undefined, this.features.drop && this.drop ? 'file-uploads-drop' : undefined, this.disabled ? 'file-uploads-disabled' : undefined];\n      },\n      forId: function forId() {\n        return this.inputId || this.name;\n      },\n      iMaximum: function iMaximum() {\n        if (this.maximum === undefined) {\n          return this.multiple ? 0 : 1;\n        }\n\n        return this.maximum;\n      },\n      iExtensions: function iExtensions() {\n        if (!this.extensions) {\n          return;\n        }\n\n        if (this.extensions instanceof RegExp) {\n          return this.extensions;\n        }\n\n        if (!this.extensions.length) {\n          return;\n        }\n\n        var exts = [];\n\n        if (typeof this.extensions === 'string') {\n          exts = this.extensions.split(',');\n        } else {\n          exts = this.extensions;\n        }\n\n        exts = exts.map(function (value) {\n          return value.trim();\n        }).filter(function (value) {\n          return value;\n        });\n        return new RegExp('\\\\.(' + exts.join('|').replace(/\\./g, '\\\\.') + ')$', 'i');\n      },\n      iDirectory: function iDirectory() {\n        if (this.directory && this.features.directory) {\n          return true;\n        }\n\n        return undefined;\n      }\n    },\n    watch: {\n      active: function active(_active) {\n        this.watchActive(_active);\n      },\n      dropActive: function dropActive(value) {\n        this.watchDropActive(value);\n\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n      },\n      drop: function drop(value) {\n        this.watchDrop(value);\n      },\n      modelValue: function modelValue(files) {\n        if (this.files === files) {\n          return;\n        }\n\n        this.files = files;\n        var oldMaps = this.maps; // 重写 maps 缓存\n\n        this.maps = {};\n\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        } // add, update\n\n\n        for (var key in this.maps) {\n          var newFile = this.maps[key];\n          var oldFile = oldMaps[key];\n\n          if (newFile !== oldFile) {\n            this.emitFile(newFile, oldFile);\n          }\n        } // delete\n\n\n        for (var _key in oldMaps) {\n          if (!this.maps[_key]) {\n            this.emitFile(undefined, oldMaps[_key]);\n          }\n        }\n      }\n    },\n    methods: {\n      newId: function newId() {\n        return Math.random().toString(36).substr(2);\n      },\n      // 清空\n      clear: function clear() {\n        if (this.files.length) {\n          var files = this.files;\n          this.files = []; // 定位\n\n          this.maps = {}; // 事件\n\n          this.emitInput();\n\n          for (var i = 0; i < files.length; i++) {\n            this.emitFile(undefined, files[i]);\n          }\n        }\n\n        return true;\n      },\n      // 选择\n      get: function get(id) {\n        if (!id) {\n          return false;\n        }\n\n        if (_typeof(id) === 'object') {\n          return this.maps[id.id || ''] || false;\n        }\n\n        return this.maps[id] || false;\n      },\n      // 添加\n      add: function add(_files, index) {\n        // 不是数组整理成数组\n        var files;\n\n        if (_files instanceof Array) {\n          files = _files;\n        } else {\n          files = [_files];\n        }\n\n        if (index === undefined) {\n          // eslint-disable-next-line\n          index = this.addIndex;\n        } // 遍历规范对象\n\n\n        var addFiles = [];\n\n        for (var i = 0; i < files.length; i++) {\n          var file = files[i];\n\n          if (this.features.html5 && file instanceof Blob) {\n            file = {\n              id: '',\n              file: file,\n              size: file.size,\n              // @ts-ignore\n              name: file.webkitRelativePath || file.relativePath || file.name || 'unknown',\n              type: file.type\n            };\n          }\n\n          file = file;\n          var fileObject = false;\n          if (file.fileObject === false) ;else if (file.fileObject) {\n            fileObject = true;\n          } else if (typeof Element !== 'undefined' && file.el instanceof HTMLInputElement) {\n            fileObject = true;\n          } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\n            fileObject = true;\n          }\n\n          if (fileObject) {\n            file = _objectSpread(_objectSpread({\n              fileObject: true,\n              size: -1,\n              name: 'Filename',\n              type: '',\n              active: false,\n              error: '',\n              success: false,\n              putAction: this.putAction,\n              postAction: this.postAction,\n              timeout: this.timeout\n            }, file), {}, {\n              response: {},\n              progress: '0.00',\n              speed: 0 // 只读\n              // file: undefined,\n              // xhr: undefined,\n              // el: undefined,\n              // iframe: undefined,\n\n            });\n            file.data = _objectSpread(_objectSpread({}, this.data), file.data ? file.data : {});\n            file.headers = _objectSpread(_objectSpread({}, this.headers), file.headers ? file.headers : {});\n          } // 必须包含 id\n\n\n          if (!file.id) {\n            file.id = this.newId();\n          }\n\n          if (this.emitFilter(file, undefined)) {\n            continue;\n          } // 最大数量限制\n\n\n          if (this.iMaximum > 1 && addFiles.length + this.files.length >= this.iMaximum) {\n            break;\n          }\n\n          addFiles.push(file); // 最大数量限制\n\n          if (this.iMaximum === 1) {\n            break;\n          }\n        } // 没有文件\n\n\n        if (!addFiles.length) {\n          return;\n        } // 如果是 1 清空\n\n\n        if (this.iMaximum === 1) {\n          this.clear();\n        } // 添加进去 files\n\n\n        var newFiles;\n\n        if (index === true || index === 0) {\n          newFiles = addFiles.concat(this.files);\n        } else if (index) {\n          var _newFiles;\n\n          newFiles = this.files.concat([]);\n\n          (_newFiles = newFiles).splice.apply(_newFiles, [index, 0].concat(_toConsumableArray(addFiles)));\n        } else {\n          newFiles = this.files.concat(addFiles);\n        }\n\n        this.files = newFiles; // 读取代理后的数据\n\n        var index2 = 0;\n\n        if (index === true || index === 0) {\n          index2 = 0;\n        } else if (index) {\n          if (index >= 0) {\n            if (index + addFiles.length > this.files.length) {\n              index2 = this.files.length - addFiles.length;\n            } else {\n              index2 = index;\n            }\n          } else {\n            index2 = this.files.length - addFiles.length + index;\n\n            if (index2 < 0) {\n              index2 = 0;\n            }\n          }\n        } else {\n          index2 = this.files.length - addFiles.length;\n        }\n\n        addFiles = this.files.slice(index2, index2 + addFiles.length); // 定位\n\n        for (var _i = 0; _i < addFiles.length; _i++) {\n          var _file = addFiles[_i];\n          this.maps[_file.id] = _file;\n        } // 事件\n\n\n        this.emitInput();\n\n        for (var _i2 = 0; _i2 < addFiles.length; _i2++) {\n          this.emitFile(addFiles[_i2], undefined);\n        }\n\n        return _files instanceof Array ? addFiles : addFiles[0];\n      },\n      // 添加表单文件\n      addInputFile: function addInputFile(el) {\n        var _this8 = this;\n\n        var files = [];\n        this.iMaximum; // @ts-ignore\n\n        var entrys = el.webkitEntries || el.entries || undefined;\n\n        if (entrys !== null && entrys !== void 0 && entrys.length) {\n          return this.getFileSystemEntry(entrys).then(function (files) {\n            return _this8.add(files);\n          });\n        }\n\n        if (el.files) {\n          for (var i = 0; i < el.files.length; i++) {\n            var file = el.files[i];\n            files.push({\n              id: '',\n              size: file.size,\n              // @ts-ignore\n              name: file.webkitRelativePath || file.relativePath || file.name,\n              type: file.type,\n              file: file\n            });\n          }\n        } else {\n          var names = el.value.replace(/\\\\/g, '/').split('/');\n\n          if (!names || !names.length) {\n            names = [el.value];\n          } // @ts-ignore\n\n\n          delete el.__vuex__;\n          files.push({\n            id: '',\n            name: names[names.length - 1],\n            el: el\n          });\n        }\n\n        return Promise.resolve(this.add(files));\n      },\n      // 添加 DataTransfer\n      addDataTransfer: function addDataTransfer(dataTransfer) {\n        var _dataTransfer$items,\n            _this9 = this;\n\n        // dataTransfer.items 支持\n        if (dataTransfer !== null && dataTransfer !== void 0 && (_dataTransfer$items = dataTransfer.items) !== null && _dataTransfer$items !== void 0 && _dataTransfer$items.length) {\n          var entrys = []; // 遍历出所有 dataTransferVueUploadItem\n\n          for (var i = 0; i < dataTransfer.items.length; i++) {\n            var dataTransferTtem = dataTransfer.items[i];\n            var entry = void 0; // @ts-ignore\n\n            if (dataTransferTtem.getAsEntry) {\n              // @ts-ignore\n              entry = dataTransferTtem.getAsEntry() || dataTransferTtem.getAsFile();\n            } else if (dataTransferTtem.webkitGetAsEntry) {\n              entry = dataTransferTtem.webkitGetAsEntry() || dataTransferTtem.getAsFile();\n            } else {\n              entry = dataTransferTtem.getAsFile();\n            }\n\n            if (entry) {\n              entrys.push(entry);\n            }\n          }\n\n          return this.getFileSystemEntry(entrys).then(function (files) {\n            return _this9.add(files);\n          });\n        } // dataTransfer.files 支持\n\n\n        var maximumValue = this.iMaximum;\n        var files = [];\n\n        if (dataTransfer.files.length) {\n          for (var _i3 = 0; _i3 < dataTransfer.files.length; _i3++) {\n            files.push(dataTransfer.files[_i3]);\n\n            if (maximumValue > 0 && files.length >= maximumValue) {\n              break;\n            }\n          }\n\n          return Promise.resolve(this.add(files));\n        }\n\n        return Promise.resolve([]);\n      },\n      // 获得 entrys    \n      getFileSystemEntry: function getFileSystemEntry(entry) {\n        var _this10 = this;\n\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        // getFileSystemEntry(entry: any, path = ''): Promise<VueUploadItem[]> {\n        return new Promise(function (resolve) {\n          var maximumValue = _this10.iMaximum;\n\n          if (!entry) {\n            resolve([]);\n            return;\n          }\n\n          if (entry instanceof Array) {\n            // 多个\n            var uploadFiles = [];\n\n            var forEach = function forEach(i) {\n              var v = entry[i];\n\n              if (!v || maximumValue > 0 && uploadFiles.length >= maximumValue) {\n                return resolve(uploadFiles);\n              }\n\n              _this10.getFileSystemEntry(v, path).then(function (results) {\n                uploadFiles.push.apply(uploadFiles, _toConsumableArray(results));\n                forEach(i + 1);\n              });\n            };\n\n            forEach(0);\n            return;\n          }\n\n          if (entry instanceof Blob) {\n            resolve([{\n              id: '',\n              size: entry.size,\n              // @ts-ignore\n              name: path + entry.name,\n              type: entry.type,\n              file: entry\n            }]);\n            return;\n          }\n\n          if (entry.isFile) {\n            var fileEntry = entry;\n            fileEntry.file(function (file) {\n              resolve([{\n                id: '',\n                size: file.size,\n                name: path + file.name,\n                type: file.type,\n                file: file\n              }]);\n            });\n            return;\n          }\n\n          if (entry.isDirectory && _this10.dropDirectory) {\n            var directoryEntry = entry;\n            var _uploadFiles = []; // 目录也要添加到文件列表\n\n            if (_this10.createDirectory) {\n              _uploadFiles.push({\n                id: '',\n                name: path + directoryEntry.name,\n                size: 0,\n                type: 'text/directory',\n                file: new File([], path + directoryEntry.name, {\n                  type: 'text/directory'\n                })\n              });\n            }\n\n            var dirReader = directoryEntry.createReader();\n\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (entries) {\n                var forEach = function forEach(i) {\n                  if (!entries[i] && i === 0 || maximumValue > 0 && _uploadFiles.length >= maximumValue) {\n                    return resolve(_uploadFiles);\n                  }\n\n                  if (!entries[i]) {\n                    return readEntries();\n                  }\n\n                  _this10.getFileSystemEntry(entries[i], path + directoryEntry.name + '/').then(function (results) {\n                    _uploadFiles.push.apply(_uploadFiles, _toConsumableArray(results));\n\n                    forEach(i + 1);\n                  });\n                };\n\n                forEach(0);\n              });\n            };\n\n            readEntries();\n            return;\n          }\n\n          resolve([]);\n        });\n      },\n      // 替换\n      replace: function replace(id1, id2) {\n        var file1 = this.get(id1);\n        var file2 = this.get(id2);\n\n        if (!file1 || !file2 || file1 === file2) {\n          return false;\n        }\n\n        var files = this.files.concat([]);\n        var index1 = files.indexOf(file1);\n        var index2 = files.indexOf(file2);\n\n        if (index1 === -1 || index2 === -1) {\n          return false;\n        }\n\n        files[index1] = file2;\n        files[index2] = file1;\n        this.files = files;\n        this.emitInput();\n        return true;\n      },\n      // 移除\n      remove: function remove(id) {\n        var file = this.get(id);\n\n        if (file) {\n          if (this.emitFilter(undefined, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n\n          if (index === -1) {\n            console.error('remove', file);\n            return false;\n          }\n\n          files.splice(index, 1);\n          this.files = files; // 定位\n\n          delete this.maps[file.id]; // 事件\n\n          this.emitInput();\n          this.emitFile(undefined, file);\n        }\n\n        return file;\n      },\n      // 更新\n      update: function update(id, data) {\n        var file = this.get(id);\n\n        if (file) {\n          var newFile = _objectSpread(_objectSpread({}, file), data); // 停用必须加上错误\n\n\n          if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\n            newFile.error = 'abort';\n          }\n\n          if (this.emitFilter(newFile, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n\n          if (index === -1) {\n            console.error('update', file);\n            return false;\n          }\n\n          files.splice(index, 1, newFile);\n          this.files = files;\n          newFile = this.files[index]; // 删除  旧定位 写入 新定位 （已便支持修改id)\n\n          delete this.maps[file.id];\n          this.maps[newFile.id] = newFile; // 事件\n\n          this.emitInput();\n          this.emitFile(newFile, file);\n          return newFile;\n        }\n\n        return false;\n      },\n      // 预处理 事件 过滤器\n      emitFilter: function emitFilter(newFile, oldFile) {\n        var isPrevent = false;\n        this.$emit('input-filter', newFile, oldFile, function () {\n          var prevent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n          isPrevent = prevent;\n          return isPrevent;\n        });\n        return isPrevent;\n      },\n      // 处理后 事件 分发\n      emitFile: function emitFile(newFile, oldFile) {\n        var _newFile,\n            _this11 = this;\n\n        this.$emit('input-file', newFile, oldFile);\n\n        if ((_newFile = newFile) !== null && _newFile !== void 0 && _newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\n          this.uploading++; // 激活\n          // @ts-ignore\n\n          this.$nextTick(function () {\n            setTimeout(function () {\n              newFile && _this11.upload(newFile).then(function () {\n                var _newFile2;\n\n                if (newFile) {\n                  // eslint-disable-next-line\n                  newFile = _this11.get(newFile) || undefined;\n                }\n\n                if ((_newFile2 = newFile) !== null && _newFile2 !== void 0 && _newFile2.fileObject) {\n                  _this11.update(newFile, {\n                    active: false,\n                    success: !newFile.error\n                  });\n                }\n              }).catch(function (e) {\n                newFile && _this11.update(newFile, {\n                  active: false,\n                  success: false,\n                  error: e.code || e.error || e.message || e\n                });\n              });\n            }, Math.ceil(Math.random() * 50 + 50));\n          });\n        } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\n          // 停止\n          this.uploading--;\n        } // 自动延续激活\n        // @ts-ignore\n\n\n        if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\n          this.watchActive(true);\n        }\n      },\n      emitInput: function emitInput() {\n        this.$emit('update:modelValue', this.files);\n      },\n      // 上传\n      upload: function upload(id) {\n        var file = this.get(id); // 被删除\n\n        if (!file) {\n          return Promise.reject(new Error('not_exists'));\n        } // 不是文件对象\n\n\n        if (!file.fileObject) {\n          return Promise.reject(new Error('file_object'));\n        } // 有错误直接响应\n\n\n        if (file.error) {\n          if (file.error instanceof Error) {\n            return Promise.reject(file.error);\n          }\n\n          return Promise.reject(new Error(file.error));\n        } // 已完成直接响应\n\n\n        if (file.success) {\n          return Promise.resolve(file);\n        } // 后缀\n\n\n        if (file.name && this.iExtensions && file.type !== \"text/directory\") {\n          if (file.name.search(this.iExtensions) === -1) {\n            return Promise.reject(new Error('extension'));\n          }\n        } // 大小\n\n\n        if (this.size > 0 && file.size !== undefined && file.size >= 0 && file.size > this.size && file.type !== \"text/directory\") {\n          return Promise.reject(new Error('size'));\n        }\n\n        if (this.customAction) {\n          return this.customAction(file, this);\n        }\n\n        if (this.features.html5) {\n          if (this.shouldUseChunkUpload(file)) {\n            return this.uploadChunk(file);\n          }\n\n          if (file.putAction) {\n            return this.uploadPut(file);\n          }\n\n          if (file.postAction) {\n            return this.uploadHtml5(file);\n          }\n        }\n\n        if (file.postAction) {\n          return this.uploadHtml4(file);\n        }\n\n        return Promise.reject(new Error('No action configured'));\n      },\n\n      /**\r\n       * Whether this file should be uploaded using chunk upload or not\r\n       *\r\n       * @param Object file\r\n       */\n      shouldUseChunkUpload: function shouldUseChunkUpload(file) {\n        return this.chunkEnabled && !!this.chunkOptions.handler && file.size && file.size > this.chunkOptions.minSize;\n      },\n\n      /**\r\n       * Upload a file using Chunk method\r\n       *\r\n       * @param File file\r\n       */\n      uploadChunk: function uploadChunk(file) {\n        var HandlerClass = this.chunkOptions.handler;\n        file.chunk = new HandlerClass(file, this.chunkOptions);\n        return file.chunk.upload().then(function (res) {\n          return file;\n        });\n      },\n      uploadPut: function uploadPut(file) {\n        var querys = [];\n        var value;\n\n        for (var key in file.data) {\n          value = file.data[key];\n\n          if (value !== null && value !== undefined) {\n            querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n          }\n        }\n\n        var putAction = file.putAction || '';\n        var queryString = querys.length ? (putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : '';\n        var xhr = new XMLHttpRequest();\n        xhr.open('PUT', putAction + queryString);\n        return this.uploadXhr(xhr, file, file.file);\n      },\n      uploadHtml5: function uploadHtml5(file) {\n        var form = new window.FormData();\n        var value;\n\n        for (var key in file.data) {\n          value = file.data[key];\n\n          if (value && _typeof(value) === 'object' && typeof value.toString !== 'function') {\n            if (value instanceof File) {\n              form.append(key, value, value.name);\n            } else {\n              form.append(key, JSON.stringify(value));\n            }\n          } else if (value !== null && value !== undefined) {\n            form.append(key, value);\n          }\n        } // Moved file.name as the first option to set the filename of the uploaded file, since file.name\n        // contains the full (relative) path of the file not just the filename as in file.file.filename\n        // @ts-ignore\n\n\n        form.append(this.name, file.file, file.name || file.file.name || file.file.filename);\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', file.postAction || '');\n        return this.uploadXhr(xhr, file, form);\n      },\n      uploadXhr: function uploadXhr(xhr, ufile, body) {\n        var _this12 = this;\n\n        var file = ufile;\n        var speedTime = 0;\n        var speedLoaded = 0; // 进度条\n\n        xhr.upload.onprogress = function (e) {\n          // 还未开始上传 已删除 未激活\n          if (!file) {\n            return;\n          }\n\n          file = _this12.get(file);\n\n          if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\n            return;\n          } // 进度 速度 每秒更新一次\n\n\n          var speedTime2 = Math.round(Date.now() / 1000);\n\n          if (speedTime2 === speedTime) {\n            return;\n          }\n\n          speedTime = speedTime2;\n          file = _this12.update(file, {\n            progress: (e.loaded / e.total * 100).toFixed(2),\n            speed: e.loaded - speedLoaded\n          });\n          speedLoaded = e.loaded;\n        }; // 检查激活状态\n\n\n        var interval = window.setInterval(function () {\n          if (file) {\n            if (file = _this12.get(file)) {\n              var _file2;\n\n              if ((_file2 = file) !== null && _file2 !== void 0 && _file2.fileObject && !file.success && !file.error && file.active) {\n                return;\n              }\n            }\n          }\n\n          if (interval) {\n            clearInterval(interval);\n            interval = undefined;\n          }\n\n          try {\n            xhr.abort();\n            xhr.timeout = 1;\n          } catch (e) {}\n        }, 100);\n        return new Promise(function (resolve, reject) {\n          if (!file) {\n            reject(new Error('not_exists'));\n            return;\n          }\n\n          var complete;\n\n          var fn = function fn(e) {\n            // 已经处理过了\n            if (complete) {\n              return;\n            }\n\n            complete = true;\n\n            if (interval) {\n              clearInterval(interval);\n              interval = undefined;\n            }\n\n            if (!file) {\n              return reject(new Error('not_exists'));\n            }\n\n            file = _this12.get(file); // 不存在直接响应\n\n            if (!file) {\n              return reject(new Error('not_exists'));\n            } // 不是文件对象\n\n\n            if (!file.fileObject) {\n              return reject(new Error('file_object'));\n            } // 有错误自动响应\n\n\n            if (file.error) {\n              if (file.error instanceof Error) {\n                return reject(file.error);\n              }\n\n              return reject(new Error(file.error));\n            } // 未激活\n\n\n            if (!file.active) {\n              return reject(new Error('abort'));\n            } // 已完成 直接相应\n\n\n            if (file.success) {\n              return resolve(file);\n            }\n\n            var data = {};\n\n            switch (e.type) {\n              case 'timeout':\n              case 'abort':\n                data.error = e.type;\n                break;\n\n              case 'error':\n                if (!xhr.status) {\n                  data.error = 'network';\n                } else if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                }\n\n                break;\n\n              default:\n                if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                } else {\n                  data.progress = '100.00';\n                }\n\n            }\n\n            if (xhr.responseText) {\n              var contentType = xhr.getResponseHeader('Content-Type');\n\n              if (contentType && contentType.indexOf('/json') !== -1) {\n                data.response = JSON.parse(xhr.responseText);\n              } else {\n                data.response = xhr.responseText;\n              }\n            } // 更新\n            // @ts-ignore\n\n\n            file = _this12.update(file, data);\n\n            if (!file) {\n              return reject(new Error('abort'));\n            } // 有错误自动响应\n\n\n            if (file.error) {\n              if (file.error instanceof Error) {\n                return reject(file.error);\n              }\n\n              return reject(new Error(file.error));\n            } // 响应\n\n\n            return resolve(file);\n          }; // 事件\n\n\n          xhr.onload = fn;\n          xhr.onerror = fn;\n          xhr.onabort = fn;\n          xhr.ontimeout = fn; // 超时\n\n          if (file.timeout) {\n            xhr.timeout = file.timeout;\n          } // headers\n\n\n          for (var key in file.headers) {\n            xhr.setRequestHeader(key, file.headers[key]);\n          } // 更新 xhr\n          // @ts-ignore\n\n\n          file = _this12.update(file, {\n            xhr: xhr\n          }); // 开始上传\n\n          file && xhr.send(body);\n        });\n      },\n      uploadHtml4: function uploadHtml4(ufile) {\n        var _this13 = this;\n\n        var file = ufile;\n\n        if (!file) {\n          return Promise.reject(new Error('not_exists'));\n        }\n\n        var onKeydown = function onKeydown(e) {\n          if (e.keyCode === 27) {\n            e.preventDefault();\n          }\n        };\n\n        var iframe = document.createElement('iframe');\n        iframe.id = 'upload-iframe-' + file.id;\n        iframe.name = 'upload-iframe-' + file.id;\n        iframe.src = 'about:blank';\n        iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;');\n        var form = document.createElement('form');\n        form.setAttribute('action', file.postAction || '');\n        form.name = 'upload-form-' + file.id;\n        form.setAttribute('method', 'POST');\n        form.setAttribute('target', 'upload-iframe-' + file.id);\n        form.setAttribute('enctype', 'multipart/form-data');\n\n        for (var key in file.data) {\n          var value = file.data[key];\n\n          if (value && _typeof(value) === 'object' && typeof value.toString !== 'function') {\n            value = JSON.stringify(value);\n          }\n\n          if (value !== null && value !== undefined) {\n            var el = document.createElement('input');\n            el.type = 'hidden';\n            el.name = key;\n            el.value = value;\n            form.appendChild(el);\n          }\n        }\n\n        form.appendChild(file.el);\n        document.body.appendChild(iframe).appendChild(form);\n\n        var getResponseData = function getResponseData() {\n          var _doc;\n\n          var doc;\n\n          try {\n            if (iframe.contentWindow) {\n              doc = iframe.contentWindow.document;\n            }\n          } catch (err) {}\n\n          if (!doc) {\n            try {\n              // @ts-ignore\n              doc = iframe.contentDocument ? iframe.contentDocument : iframe.document;\n            } catch (err) {\n              // @ts-ignore\n              doc = iframe.document;\n            }\n          } // @ts-ignore\n\n\n          if ((_doc = doc) !== null && _doc !== void 0 && _doc.body) {\n            return doc.body.innerHTML;\n          }\n\n          return null;\n        };\n\n        return new Promise(function (resolve, reject) {\n          setTimeout(function () {\n            if (!file) {\n              reject(new Error('not_exists'));\n              return;\n            }\n\n            file = _this13.update(file, {\n              iframe: iframe\n            }); // 不存在\n\n            if (!file) {\n              return reject(new Error('not_exists'));\n            } // 定时检查\n\n\n            var interval = window.setInterval(function () {\n              if (file) {\n                if (file = _this13.get(file)) {\n                  if (file.fileObject && !file.success && !file.error && file.active) {\n                    return;\n                  }\n                }\n              }\n\n              if (interval) {\n                clearInterval(interval);\n                interval = undefined;\n              } // @ts-ignore\n\n\n              iframe.onabort({\n                type: file ? 'abort' : 'not_exists'\n              });\n            }, 100);\n            var complete;\n\n            var fn = function fn(e) {\n              var _file3;\n\n              // 已经处理过了\n              if (complete) {\n                return;\n              }\n\n              complete = true;\n\n              if (interval) {\n                clearInterval(interval);\n                interval = undefined;\n              } // 关闭 esc 事件\n\n\n              document.body.removeEventListener('keydown', onKeydown);\n\n              if (!file) {\n                return reject(new Error('not_exists'));\n              }\n\n              file = _this13.get(file); // 不存在直接响应\n\n              if (!file) {\n                return reject(new Error('not_exists'));\n              } // 不是文件对象\n\n\n              if (!file.fileObject) {\n                return reject(new Error('file_object'));\n              } // 有错误自动响应\n\n\n              if (file.error) {\n                if (file.error instanceof Error) {\n                  return reject(file.error);\n                }\n\n                return reject(new Error(file.error));\n              } // 未激活\n\n\n              if (!file.active) {\n                return reject(new Error('abort'));\n              } // 已完成 直接相应\n\n\n              if (file.success) {\n                return resolve(file);\n              }\n\n              var response = getResponseData();\n              var data = {};\n\n              if (typeof e === 'string') {\n                return reject(new Error(e));\n              }\n\n              switch (e.type) {\n                case 'abort':\n                  data.error = 'abort';\n                  break;\n\n                case 'error':\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.error = 'denied';\n                  }\n\n                  break;\n\n                default:\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.progress = '100.00';\n                  }\n\n              }\n\n              if (response !== null) {\n                if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (err) {}\n                }\n\n                data.response = response;\n              } // 更新\n\n\n              file = _this13.update(file, data);\n\n              if (!file) {\n                return reject(new Error('not_exists'));\n              }\n\n              if ((_file3 = file) !== null && _file3 !== void 0 && _file3.error) {\n                if (file.error instanceof Error) {\n                  return reject(file.error);\n                }\n\n                return reject(new Error(file.error));\n              } // 响应\n\n\n              return resolve(file);\n            }; // 添加事件\n\n\n            iframe.onload = fn;\n            iframe.onerror = fn;\n            iframe.onabort = fn; // 禁止 esc 键\n\n            document.body.addEventListener('keydown', onKeydown); // 提交\n\n            form.submit();\n          }, 50);\n        }).then(function (res) {\n          var _iframe$parentNode;\n\n          iframe === null || iframe === void 0 ? void 0 : (_iframe$parentNode = iframe.parentNode) === null || _iframe$parentNode === void 0 ? void 0 : _iframe$parentNode.removeChild(iframe);\n          return res;\n        }).catch(function (res) {\n          var _iframe$parentNode2;\n\n          iframe === null || iframe === void 0 ? void 0 : (_iframe$parentNode2 = iframe.parentNode) === null || _iframe$parentNode2 === void 0 ? void 0 : _iframe$parentNode2.removeChild(iframe);\n          return res;\n        });\n      },\n      watchActive: function watchActive(active) {\n        var file;\n        var index = 0;\n\n        while (file = this.files[index]) {\n          index++;\n          if (!file.fileObject) ;else if (active && !this.destroy) {\n            if (this.uploading >= this.thread || this.uploading && !this.features.html5) {\n              break;\n            }\n\n            if (!file.active && !file.error && !file.success) {\n              this.update(file, {\n                active: true\n              });\n            }\n          } else {\n            if (file.active) {\n              this.update(file, {\n                active: false\n              });\n            }\n          }\n        }\n\n        if (this.uploading === 0) {\n          this.active = false;\n        }\n      },\n      watchDrop: function watchDrop(newDrop) {\n        var oldDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n        if (!this.features.drop) {\n          return;\n        }\n\n        if (newDrop === oldDrop) {\n          return;\n        } // 移除挂载\n\n\n        if (this.dropElement) {\n          try {\n            document.removeEventListener('dragenter', this.onDocumentDragenter, false);\n            document.removeEventListener('dragleave', this.onDocumentDragleave, false);\n            document.removeEventListener('dragover', this.onDocumentDragover, false);\n            document.removeEventListener('drop', this.onDocumentDrop, false);\n            this.dropElement.removeEventListener('dragover', this.onDragover, false);\n            this.dropElement.removeEventListener('drop', this.onDrop, false);\n          } catch (e) {}\n        }\n\n        var el = null;\n        if (!newDrop) ;else if (typeof newDrop === 'string') {\n          // @ts-ignore\n          el = document.querySelector(newDrop) || this.$root.$el.querySelector(newDrop);\n        } else if (newDrop === true) {\n          var _el;\n\n          // @ts-ignore\n          el = this.$parent.$el;\n\n          if (!el || ((_el = el) === null || _el === void 0 ? void 0 : _el.nodeType) === 8) {\n            var _el2;\n\n            // @ts-ignore\n            el = this.$root.$el;\n\n            if (!el || ((_el2 = el) === null || _el2 === void 0 ? void 0 : _el2.nodeType) === 8) {\n              el = document.body;\n            }\n          }\n        } else {\n          el = newDrop;\n        }\n        this.dropElement = el;\n\n        if (this.dropElement) {\n          document.addEventListener('dragenter', this.onDocumentDragenter, false);\n          document.addEventListener('dragleave', this.onDocumentDragleave, false);\n          document.addEventListener('dragover', this.onDocumentDragover, false);\n          document.addEventListener('drop', this.onDocumentDrop, false);\n          this.dropElement.addEventListener('dragover', this.onDragover, false);\n          this.dropElement.addEventListener('drop', this.onDrop, false);\n        }\n      },\n      watchDropActive: function watchDropActive(newDropActive, oldDropActive) {\n        if (newDropActive === oldDropActive) {\n          return;\n        }\n\n        if (this.dropTimeout) {\n          clearTimeout(this.dropTimeout);\n          this.dropTimeout = null;\n        }\n\n        if (newDropActive) {\n          // @ts-ignore\n          this.dropTimeout = setTimeout(this.onDocumentDrop, 1000);\n        }\n      },\n      onDocumentDragenter: function onDocumentDragenter(e) {\n        var _dt$files, _dt$types;\n\n        if (this.dropActive) {\n          return;\n        }\n\n        if (!e.dataTransfer) {\n          return;\n        }\n\n        var dt = e.dataTransfer;\n\n        if (dt !== null && dt !== void 0 && (_dt$files = dt.files) !== null && _dt$files !== void 0 && _dt$files.length) {\n          this.dropActive = true;\n        } else if (!dt.types) {\n          this.dropActive = true;\n        } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\n          this.dropActive = true; // @ts-ignore\n        } else if ((_dt$types = dt.types) !== null && _dt$types !== void 0 && _dt$types.contains && dt.types.contains('Files')) {\n          this.dropActive = true;\n        }\n\n        if (this.dropActive) {\n          this.watchDropActive(true);\n        }\n      },\n      onDocumentDragleave: function onDocumentDragleave(e) {\n        if (!this.dropActive) {\n          return;\n        } // @ts-ignore\n\n\n        if (e.target === e.explicitOriginalTarget || !e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\n          this.dropActive = false;\n          this.watchDropActive(false);\n        }\n      },\n      onDocumentDragover: function onDocumentDragover() {\n        this.watchDropActive(true);\n      },\n      onDocumentDrop: function onDocumentDrop() {\n        this.dropActive = false;\n        this.watchDropActive(false);\n      },\n      onDragover: function onDragover(e) {\n        e.preventDefault();\n      },\n      onDrop: function onDrop(e) {\n        e.preventDefault();\n        e.dataTransfer && this.addDataTransfer(e.dataTransfer);\n      },\n      inputOnChange: async function inputOnChange(e) {\n        var _this14 = this;\n\n        if (!(e.target instanceof HTMLInputElement)) {\n          return Promise.reject(new Error(\"not HTMLInputElement\"));\n        }\n\n        e.target;\n\n        var reinput = function reinput(res) {\n          _this14.reload = true; // @ts-ignore\n\n          _this14.$nextTick(function () {\n            _this14.reload = false;\n          });\n\n          return res;\n        };\n\n        return this.addInputFile(e.target).then(reinput).catch(reinput);\n      }\n    }\n  });\n  var _hoisted_1 = [\"for\"];\n  var _hoisted_2 = [\"name\", \"id\", \"accept\", \"capture\", \"disabled\", \"webkitdirectory\", \"allowdirs\", \"directory\", \"multiple\"];\n\n  function render(_ctx, _cache, $props, $setup, $data, $options) {\n    return vue.openBlock(), vue.createElementBlock(\"span\", {\n      class: vue.normalizeClass(_ctx.className)\n    }, [vue.renderSlot(_ctx.$slots, \"default\"), vue.createElementVNode(\"label\", {\n      for: _ctx.forId\n    }, null, 8, _hoisted_1), !_ctx.reload ? (vue.openBlock(), vue.createElementBlock(\"input\", {\n      key: 0,\n      ref: \"input\",\n      type: \"file\",\n      name: _ctx.name,\n      id: _ctx.forId,\n      accept: _ctx.accept,\n      capture: _ctx.capture,\n      disabled: _ctx.disabled,\n      webkitdirectory: _ctx.iDirectory,\n      allowdirs: _ctx.iDirectory,\n      directory: _ctx.iDirectory,\n      multiple: _ctx.multiple && _ctx.features.html5,\n      onChange: _cache[0] || (_cache[0] = function () {\n        return _ctx.inputOnChange && _ctx.inputOnChange.apply(_ctx, arguments);\n      })\n    }, null, 40, _hoisted_2)) : vue.createCommentVNode(\"\", true)], 2);\n  }\n\n  function styleInject(css, ref) {\n    if (ref === void 0) ref = {};\n    var insertAt = ref.insertAt;\n\n    if (!css || typeof document === 'undefined') {\n      return;\n    }\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (insertAt === 'top') {\n      if (head.firstChild) {\n        head.insertBefore(style, head.firstChild);\n      } else {\n        head.appendChild(style);\n      }\n    } else {\n      head.appendChild(style);\n    }\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n\n  var css_248z = \"\\n.file-uploads {\\n  overflow: hidden;\\n  position: relative;\\n  text-align: center;\\n  display: inline-block;\\n}\\n.file-uploads.file-uploads-html4 input,\\n.file-uploads.file-uploads-html5 label {\\n  /* background fix ie  click */\\n  background: #fff;\\n  opacity: 0;\\n  font-size: 20em;\\n  z-index: 1;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n.file-uploads.file-uploads-html5 input,\\n.file-uploads.file-uploads-html4 label {\\n  /* background fix ie  click */\\n  background: rgba(255, 255, 255, 0);\\n  overflow: hidden;\\n  position: fixed;\\n  width: 1px;\\n  height: 1px;\\n  z-index: -1;\\n  opacity: 0;\\n}\\n\";\n  styleInject(css_248z);\n  script.render = render;\n\n  return script;\n\n}));\n//# sourceMappingURL=vue-upload-component.js.map\n"],"names":["class","_createElementVNode","_hoisted_7","_hoisted_11","ref","novalidate","id","role","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_ctx","_hoisted_4","_hoisted_5","_createVNode","_component_Menu","services","length","_hoisted_9","_hoisted_10","$refs","upload","dropActive","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","$data","type","placeholder","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_component_file_upload","value","files","$event","$options","extensions","accept","multiple","directory","size","thread","headers","data","drop","dropDirectory","addIndex","_component_FontAwesomeIcon","icon","_hoisted_25","active","onClick","_hoisted_27","uploadAll","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_component_jena_table","fields","items","bordered","fixed","hover","item","speed","_hoisted_31","style","progress","_hoisted_33","response","tripleCount","_hoisted_34","_hoisted_35","success","error","update","_hoisted_37","remove","_hoisted_39","_hoisted_6","library","faPlus","faUpload","faTimesCircle","faMinusCircle","name","components","Menu","FontAwesomeIcon","FileUpload","JenaTable","mixins","currentDatasetMixin","currentDatasetMixinNavigationGuards","datasetGraphName","datasetFiles","graphNameClasses","fileUploadClasses","minSize","autoCompress","uploadAuto","isOption","datasetTableFields","key","label","sortable","sortDirection","computed","datasetTableItems","this","map","file","Object","assign","status","getFileStatus","postActionUrl","params","s","dataEndpoint","find","endpoint","$fusekiService","getFusekiUrl","datasetName","watch","validateGraphName","handler","validateFiles","deep","immediate","methods","readableFileSize","k","m","toFixed","replace","validateForm","pattern","graphName","test","async","component","uploadHtml5","catch","displayError","__exports__","render","global","factory","module","exports","vue","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","Array","from","iter","Symbol","iterator","isArray","len","i","arr2","_ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_typeof","ownKeys","_objectSpread2","_defineProperty","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","createRequest","options","xhr","XMLHttpRequest","open","method","url","responseType","setRequestHeader","sendRequest","body","Promise","resolve","reject","onload","JSON","parse","err","onerror","send","stringify","sendFormRequest","FormData","append","request","ChunkUploadHandler","chunks","sessionId","chunkSize","speedInterval","get","parseInt","maxRetries","maxActive","action","startBody","uploadBody","finishBody","_this","completedProgress","chunksUploaded","uploadingProgress","chunksUploading","reduce","chunk","Math","min","uploaded","chunksToUpload","start","end","fileSize","blob","startOffset","retries","stopChunks","abort","stopSpeedCalc","startChunking","_this2","promise","_this3","phase","mime_type","fileType","fileName","then","res","session_id","end_offset","createChunks","maxActiveChunks","uploadNextChunk","startSpeedCalc","hasChunksToUpload","uploadChunk","finish","_this4","updateFileProgress","addEventListener","evt","lengthComputable","round","loaded","total","start_offset","_this5","_this6","lastUploadedBytes","window","setInterval","uploadedBytes","clearInterval","CHUNK_DEFAULT_OPTIONS","script","defineComponent","inputId","String","default","capture","disabled","Boolean","maximum","Number","createDirectory","postAction","putAction","customAction","Function","timeout","RegExp","modelValue","chunkEnabled","emits","features","html5","uploading","destroy","maps","dropElement","dropTimeout","reload","mounted","_this7","input","document","createElement","webkitdirectory","ondrop","$nextTick","$parent","$forceUpdate","watchDrop","beforeUnmount","watchActive","fileObject","chunkOptions","className","undefined","forId","iMaximum","iExtensions","exts","split","trim","join","iDirectory","_active","watchDropActive","oldMaps","newFile","oldFile","emitFile","_key","newId","random","substr","clear","emitInput","add","_files","index","addFiles","Blob","webkitRelativePath","relativePath","Element","el","HTMLInputElement","emitFilter","newFiles","concat","_newFiles","splice","index2","_i","_file","_i2","addInputFile","_this8","entrys","webkitEntries","entries","getFileSystemEntry","names","__vuex__","addDataTransfer","dataTransfer","_dataTransfer$items","_this9","dataTransferTtem","entry","getAsEntry","getAsFile","webkitGetAsEntry","maximumValue","_i3","_this10","path","uploadFiles","v","results","isFile","fileEntry","isDirectory","directoryEntry","_uploadFiles","File","dirReader","createReader","readEntries","id1","id2","file1","file2","index1","indexOf","console","isPrevent","$emit","prevent","_newFile","_this11","setTimeout","_newFile2","e","code","message","ceil","Error","search","shouldUseChunkUpload","uploadPut","uploadHtml4","HandlerClass","querys","encodeURIComponent","queryString","uploadXhr","form","filename","ufile","_this12","speedTime","speedLoaded","onprogress","speedTime2","Date","now","interval","_file2","complete","fn","responseText","contentType","getResponseHeader","onabort","ontimeout","_this13","onKeydown","keyCode","preventDefault","iframe","src","setAttribute","appendChild","getResponseData","_doc","doc","contentWindow","contentDocument","innerHTML","_file3","removeEventListener","submit","_iframe$parentNode","parentNode","removeChild","_iframe$parentNode2","newDrop","oldDrop","onDocumentDragenter","onDocumentDragleave","onDocumentDragover","onDocumentDrop","onDragover","onDrop","querySelector","$root","$el","_el","_el2","nodeType","newDropActive","oldDropActive","clearTimeout","_dt$files","_dt$types","dt","types","contains","explicitOriginalTarget","fromElement","clientX","clientY","innerWidth","innerHeight","inputOnChange","_this14","reinput","_cache","$props","$setup","openBlock","createElementBlock","normalizeClass","renderSlot","$slots","createElementVNode","createCommentVNode","allowdirs","onChange","styleInject","css","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","css_248z"],"sourceRoot":""}